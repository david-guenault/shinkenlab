mongo:
    image: dguenault/mongodb:2.6.4
    hostname: mongo
    volumes: 
        - data/mongodb/data/db:/data/db
    expose: 
        - "27017"

scheduler:
    image:    dguenault/shinken-scheduler:1.4
    hostname: scheduler
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7768"

scheduler2:
    image:    dguenault/shinken-scheduler:1.4
    hostname: scheduler2
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7768"

receiver:
    image:    dguenault/shinken-receiver:1.4
    hostname: receiver
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7773"

poller1:
    image:    dguenault/shinken-poller-testconfig:1.4
    hostname: poller1
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7771"
    links:
        - scheduler:scheduler
        - scheduler2:scheduler2

poller2:
    image:    dguenault/shinken-poller-testconfig:1.4
    hostname: poller2
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7771"
    links:
        - scheduler:scheduler
        - scheduler2:scheduler2

poller3:
    image:    dguenault/shinken-poller-testconfig:1.4
    hostname: poller3
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7771"
    links:
        - scheduler:scheduler
        - scheduler2:scheduler2

reactionner:
    image:    dguenault/shinken-reactionner:1.4
    hostname: reactionner
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7779"
    links:
        - scheduler:scheduler
        - scheduler2:scheduler2

broker:
    image:    dguenault/shinken-broker:1.4
    hostname: broker
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7767"
        - "50000"
        - "7772"
    links:
        - scheduler:scheduler
        - scheduler2:scheduler2

arbiter:
    image:    dguenault/shinken-arbiter-testconfig:1.4
    hostname: arbiter
    volumes:
        - data/shinken/etc/shinken:/etc/shinken
    expose:
        - "7770"
    links:
        - mongo:mongo
        - poller1:poller1
        - poller2:poller2
        - poller3:poller3
        - scheduler:scheduler
        - scheduler2:scheduler2
        - receiver:receiver
        - reactionner:reactionner
        - broker:broker